---
name: investigate-spec
description: 機能の実装・修正・検索を行う前にdocs/SPEC.mdを調査する。新機能追加、既存機能の修正、バグ修正、コード探索時に自動発動。
auto-invoke: true
---

# SPEC.md 事前調査スキル

機能の実装や修正を行う前に、docs/SPEC.mdを参照して仕様を把握するためのガイドラインです。

## いつ自動発動するか

以下の作業を開始する前に、このスキルを自動的に実行してください:

- 新機能の追加
- 既存機能の修正・改善
- バグ修正
- 特定機能のコード探索
- UI/UXの変更
- データモデルに関わる変更

## 調査手順

### 1. SPEC.mdを読む

まず docs/SPEC.md を読んで、関連する仕様を把握します。

### 2. 関連セクションの特定

| 作業内容 | 参照すべきセクション |
|----------|---------------------|
| 画面の追加・修正 | 画面構成、ディレクトリ構造 |
| 入力機能の変更 | 種目入力機能、キーボード操作 |
| データ処理の変更 | データモデル、DBスキーマ |
| グラフ関連 | グラフ機能 |
| AI機能関連 | AI機能（Gemini API） |
| エクスポート関連 | テキストエクスポート機能 |
| カレンダー関連 | カレンダー機能 |
| UI変更 | UIガイドライン |

### 3. 仕様の確認ポイント

- **データモデル**: 必要なフィールド、型、制約
- **画面構成**: 対象画面のパスと機能概要
- **UIガイドライン**: タップ領域、アイコンサイズ等の規約
- **技術スタック**: 使用すべきライブラリ

### 4. CLAUDE.mdも確認

SPEC.mdで仕様を把握した後、CLAUDE.md も確認して:

- 使用可能なコマンド
- テスト構成
- ディレクトリ構造

## 調査結果の活用

SPEC.mdの情報を元に:

1. 実装方針を決定
2. 影響範囲を特定
3. 必要なファイル・コンポーネントを把握
4. データモデルの変更が必要か判断

## 注意事項

- SPEC.mdに記載されていない仕様は実装前にユーザーに確認
- 実装後はupdate-specスキルを使用してSPEC.mdを更新
- 「将来的な拡張候補」に記載されている機能は未実装
