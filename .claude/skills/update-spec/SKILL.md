---
name: update-spec
description: 機能追加や改修後にdocs/SPEC.mdを更新する。新機能の実装、UI変更、データモデル変更、キーボード操作変更などを行った際に使用。
---

# SPEC.md 更新スキル

機能追加や改修を行った際に、docs/SPEC.mdを適切に更新するためのガイドラインです。

## いつ使用するか

以下の変更を行った後に、このスキルを使用してSPEC.mdを更新してください:

- 新しい画面・ページの追加
- 既存機能の変更・改善
- UIコンポーネントの変更
- キーボード操作の変更
- データモデルの変更
- 技術スタックの追加・変更

## SPEC.mdのセクション構成

```
docs/SPEC.md
├── 概要
├── 技術スタック（ライブラリ追加時に更新）
├── 機能要件
│   ├── 画面構成（新規画面追加時に更新）
│   ├── 種目入力機能
│   ├── キーボード操作（入力操作変更時に更新）
│   ├── テキストエクスポート機能
│   ├── グラフ機能
│   ├── AI機能
│   └── カレンダー機能
├── データモデル（型定義変更時に更新）
├── DBスキーマ（スキーマ変更時に更新）
├── UIガイドライン（UI規約変更時に更新）
├── PWA要件
└── ディレクトリ構造（新規ファイル追加時に更新）
```

## 更新手順

### 1. 変更内容の特定

実装した変更が以下のどのカテゴリに該当するか確認:

| カテゴリ | 更新セクション |
|----------|----------------|
| 新規画面追加 | 画面構成、ディレクトリ構造 |
| ライブラリ追加 | 技術スタック |
| 入力操作変更 | キーボード操作 |
| UI規約変更 | UIガイドライン |
| データ構造変更 | データモデル、DBスキーマ |
| 新機能追加 | 機能要件の該当セクション |

### 2. 現在のSPEC.mdを読む

```bash
cat docs/SPEC.md
```

### 3. 該当セクションを更新

変更内容に応じて適切なセクションを編集します。

#### 技術スタック更新例
```markdown
| スワイプ | react-swipeable |
```

#### 画面構成更新例
```markdown
| 新画面名 | `/path` | 機能説明 |
```

#### キーボード操作更新例
```markdown
- 操作説明: 動作内容
```

#### UIガイドライン更新例
```markdown
### セクション名
- 規約内容
- Tailwind CSS: `クラス名`
```

### 4. 検証

SPEC.mdの更新後、以下を確認:
- Markdownの構文が正しいか
- 既存の記述と矛盾がないか
- 表のフォーマットが揃っているか

## 記述スタイル

- 簡潔で明確な日本語を使用
- 技術用語は英語のまま使用（例: Tailwind CSS, IndexedDB）
- コード例は```で囲む
- 表は| で区切る Markdown形式

## 注意事項

- 実装されていない機能は「将来的な拡張候補」セクションに記載
- 削除した機能は該当セクションから削除
- バージョン番号の変更がある場合はDBスキーマセクションも確認
